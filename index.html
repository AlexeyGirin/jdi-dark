
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#jdi-dark-framework" class="toc-h1 toc-link" data-title="JDI Dark Framework">JDI Dark Framework</a>
          </li>
          <li>
            <a href="#highlights" class="toc-h1 toc-link" data-title="Highlights">Highlights</a>
          </li>
          <li>
            <a href="#simple-jdi-dark-examples" class="toc-h1 toc-link" data-title="Simple JDI Dark examples">Simple JDI Dark examples</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-service-object-model" class="toc-h2 toc-link" data-title="1. Service Object Model">1. Service Object Model</a>
                  </li>
                  <li>
                    <a href="#2-create-simple-test-using-service-object" class="toc-h2 toc-link" data-title="2. Create simple test using Service Object">2. Create simple test using Service Object</a>
                  </li>
                  <li>
                    <a href="#3-create-tests-without-using-service-object" class="toc-h2 toc-link" data-title="3. Create tests without using Service Object">3. Create tests without using Service Object</a>
                  </li>
                  <li>
                    <a href="#4-query-parameters-headers-cookies-support" class="toc-h2 toc-link" data-title="4. Query Parameters, Headers, Cookies support">4. Query Parameters, Headers, Cookies support</a>
                  </li>
                  <li>
                    <a href="#5-performance-testing-support" class="toc-h2 toc-link" data-title="5. Performance testing support">5. Performance testing support</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#documentation" class="toc-h1 toc-link" data-title="Documentation">Documentation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#framework-usage" class="toc-h2 toc-link" data-title="Framework usage">Framework usage</a>
                  </li>
                  <li>
                    <a href="#http-methods" class="toc-h2 toc-link" data-title="HTTP methods">HTTP methods</a>
                  </li>
                  <li>
                    <a href="#request-data" class="toc-h2 toc-link" data-title="Request Data">Request Data</a>
                  </li>
                  <li>
                    <a href="#tests-without-service-object" class="toc-h2 toc-link" data-title="Tests without Service Object">Tests without Service Object</a>
                  </li>
                  <li>
                    <a href="#response-data" class="toc-h2 toc-link" data-title="Response data">Response data</a>
                  </li>
                  <li>
                    <a href="#response-as-java-objects" class="toc-h2 toc-link" data-title="Response as Java objects">Response as Java objects</a>
                  </li>
                  <li>
                    <a href="#performance-testing" class="toc-h2 toc-link" data-title="Performance testing">Performance testing</a>
                  </li>
                  <li>
                    <a href="#reporting" class="toc-h2 toc-link" data-title="Reporting">Reporting</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.facebook.com/groups/jdi.framework/' target="_blank">Facebook</a></li>
            <li><a href='https://github.com/jdi-testing/jdi-dark' target="_blank">Github</a></li>
            <li><a href='https://join.skype.com/u2Cel0MWHkAO' target="_blank">Skype EN</a></li>
            <li><a href='https://join.skype.com/clvyVvnZvWqc' target="_blank">Skype RU</a></li>
            <li><a href="mailto:roman.iovlev.jdi@gmail.com?Subject=JDI question" target="_blank">Send Mail</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='jdi-dark-framework'>JDI Dark Framework</h1>
<p>JDI Dark is Simple Test Automation Framework for Web Services Testing powered by REST Assured.</p>
<h1 id='highlights'>Highlights</h1>
<ul>
<li>Obvious Service Object model that helps to reduce test development effort and increase its speed</li>
<li>Extended capabilities of REST Assured framework with all its features kept</li>
<li>Simple interface for sending requests and response analysis</li>
<li>Performance testing support</li>
<li>Detailed logging of requests and response in JSON format which can be used in your reports</li>
</ul>
<h1 id='simple-jdi-dark-examples'>Simple JDI Dark examples</h1><h2 id='1-service-object-model'>1. Service Object Model</h2>
<p>JDI Dark provides capability to describe your API as a simple Service Object.
That gives you an ability to unify and combine your REST methods and endpoints in one class
(similar to UI Page Object pattern).</p>

<p>Let&#39;s say we have a website for REST testing located by the following address: <a href="http://httpbin.org/">http://httpbin.org</a> and we need to test some of its endpoints.
We can create the Java class and describe methods we want to test.</p>
<pre class="highlight java tab-java"><code><span class="nd">@ServiceDomain</span><span class="o">(</span><span class="s">"http://httpbin.org/"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceExample</span> <span class="o">{</span> 
    <span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
    <span class="nd">@POST</span><span class="o">(</span><span class="s">"/post"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">post</span><span class="o">;</span>
    <span class="nd">@PUT</span><span class="o">(</span><span class="s">"/put"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">put</span><span class="o">;</span>
    <span class="nd">@PATCH</span><span class="o">(</span><span class="s">"/patch"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">patch</span><span class="o">;</span>
    <span class="nd">@DELETE</span><span class="o">(</span><span class="s">"/delete"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">delete</span><span class="o">;</span>
<span class="o">}</span>
</code></pre>
<p><em>So simple, isn&#39;t that right?</em></p>
<h2 id='2-create-simple-test-using-service-object'>2. Create simple test using Service Object</h2>
<p>Based on the Service Object class we created before, we can create a simple test to exercise HTTP GET method and validate the response body.</p>

<ol>
<li>Make a request call to HTTP method described in your Service Object class.</li>
<li>Validate the response body.</li>
</ol>
<pre class="highlight java tab-java"><code><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">simpleRestTest</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">ServiceExample</span><span class="o">.</span><span class="na">getInfo</span><span class="o">.</span><span class="na">call</span><span class="o">();</span>
    <span class="n">resp</span><span class="o">.</span><span class="na">isOk</span><span class="o">().</span>
      <span class="n">body</span><span class="o">(</span><span class="s">"url"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"http://httpbin.org/get"</span><span class="o">)).</span>
      <span class="n">body</span><span class="o">(</span><span class="s">"headers.Host"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"httpbin.org"</span><span class="o">)).</span>
      <span class="n">body</span><span class="o">(</span><span class="s">"headers.Id"</span><span class="o">,</span> <span class="n">equalTo</span><span class="o">(</span><span class="s">"Test"</span><span class="o">));</span>
    <span class="n">resp</span><span class="o">.</span><span class="na">assertThat</span><span class="o">().</span><span class="na">header</span><span class="o">(</span><span class="s">"Connection"</span><span class="o">,</span> <span class="s">"keep-alive"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
<p>The HTTP GET method described in service class is being called here. Next, the response is being validated.</p>

<p>You can check other tests by the following link:</p>

<p><a href="https://github.com/jdi-testing/jdi-dark/tree/master/jdi-httpTests">JDI Dark test examples</a></p>
<h2 id='3-create-tests-without-using-service-object'>3. Create tests without using Service Object</h2>
<p>As it has been mentioned, you are still able to write tests without using Service Object model.
It is possible to call HTTP methods directly from your tests. You just need to provide required information within the method arguments.</p>
<pre class="highlight java tab-java"><code><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">noServiceObjectTest</span><span class="o">(){</span>
    <span class="n">RestResponse</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">GET</span><span class="o">(</span><span class="n">requestData</span><span class="o">(</span>
      <span class="n">rd</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="n">rd</span><span class="o">.</span><span class="na">url</span><span class="o">=</span><span class="s">"http://httpbin.org/get"</span><span class="o">;</span>
           <span class="n">rd</span><span class="o">.</span><span class="na">headers</span><span class="o">=</span><span class="k">new</span> <span class="n">MapArray</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Object</span><span class="o">[][]{</span>
              <span class="o">{</span><span class="s">"Name"</span><span class="o">,</span><span class="s">"Roman"</span><span class="o">},</span>
              <span class="o">{</span><span class="s">"Id"</span><span class="o">,</span><span class="s">"TestTest"</span><span class="o">}</span>
           <span class="o">});}</span>
      <span class="o">));</span>
<span class="o">}</span>
</code></pre>
<p>In this test we make an HTTP GET request with invoked request data, which contains URL and headers.</p>
<h2 id='4-query-parameters-headers-cookies-support'>4. Query Parameters, Headers, Cookies support</h2>
<p>JDI Dark has support for query parameters, you can specify them in your service class.
You just need to use <em>@QueryParameter</em> annotation in your method or service class description.</p>
<pre class="highlight java tab-java"><code><span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">)</span>
<span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
</code></pre>
<p>If you need to specify several query parameters, then use <em>@QueryParameters</em> annotation, where you can put all of your request parameters.</p>
<pre class="highlight java tab-java"><code><span class="nd">@QueryParameters</span><span class="o">({</span>
    <span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"param1"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">),</span>
    <span class="nd">@QueryParameter</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"param2"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">)</span>
<span class="o">})</span>
<span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
</code></pre>
<p>Just the same way you can specify headers and cookies. JDI Dark has special annotation for them as well.</p>
<pre class="highlight java tab-java"><code><span class="nd">@Headers</span><span class="o">({</span>
    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Name"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Roman"</span><span class="o">),</span>
    <span class="nd">@Header</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Id"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"Test"</span><span class="o">)</span>
<span class="o">})</span>
<span class="nd">@Cookie</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"session_id"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"1234"</span><span class="o">)</span>
<span class="nd">@GET</span><span class="o">(</span><span class="s">"/get"</span><span class="o">)</span> <span class="n">RestMethod</span> <span class="n">getInfo</span><span class="o">;</span>
</code></pre><h2 id='5-performance-testing-support'>5. Performance testing support</h2>
<p>There is the support for measuring time your requests take.</p>

<p>It is possible to call your service several times and get the descriptive results.</p>
<pre class="highlight java tab-java"><code> <span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">simplePerformanceTest</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">PerformanceResult</span> <span class="n">pr</span> <span class="o">=</span> <span class="n">loadService</span><span class="o">(</span><span class="mi">3600</span><span class="o">,</span> <span class="n">getInfo</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Average time: "</span> <span class="o">+</span> <span class="n">pr</span><span class="o">.</span><span class="na">AverageResponseTime</span> <span class="o">+</span> <span class="s">"ms"</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Requests amount: "</span> <span class="o">+</span> <span class="n">pr</span><span class="o">.</span><span class="na">NumberOfRequests</span><span class="o">);</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="n">pr</span><span class="o">.</span><span class="na">NoFails</span><span class="o">(),</span> <span class="s">"Number of fails: "</span> <span class="o">+</span> <span class="n">pr</span><span class="o">.</span><span class="na">NumberOfFails</span><span class="o">);</span> 
<span class="o">}</span>
</code></pre>
<p>You can load your service and analyse the response time.</p>
<h1 id='documentation'>Documentation</h1><h2 id='framework-usage'>Framework usage</h2>
<p>For effective usage of JDI Dark framework it is recommended to statically import the init() method of ServiceInit class.</p>
<pre class="highlight plaintext"><code>import static com.epam.http.requests.ServiceInit.init;
</code></pre>
<p>This is an entry point for initialising your Service Object class.</p>
<h2 id='http-methods'>HTTP methods</h2>
<p>JDI Dark supports the following HTTP methods:
* GET
* POST
* PUT
* PATCH
* DELETE
* OPTIONS
* HEAD</p>

<p>For all of these methods there are annotations named after methods in <em>com.epam.http.annotations.</em>* package.
All of these annotations take a value of URI to make request call to. Those annotations are supposed to be used in your Service Object class.</p>

<p>To point the base URI of your service it&#39;s convenient to use <em>@ServiceDomain</em> annotation with provided URL as a value.
Then values in your methods annotations might be just specific URL paths.</p>
<h2 id='request-data'>Request Data</h2>
<p>You might need to use specific request data in your requests. Cookies, headers, query parameters and Content-type are available in annotation form.</p>

<p>... smth about invoking request data from tests when you make a request call, and the methods available to do that...</p>
<h2 id='tests-without-service-object'>Tests without Service Object</h2>
<p>All HTTP methods are available not only in annotation form. You can directly call those from your tests with provided info as arguments...</p>

<p>... description on methods to do that...</p>
<h2 id='response-data'>Response data</h2>
<p>How to access response data and validation...</p>

<p>All methods for doing that...</p>

<p>Smth about access to Rest Assured response and its methods...</p>
<h2 id='response-as-java-objects'>Response as Java objects</h2>
<p>Convert response into java objects...</p>

<p>Methods .as() and .asData()...</p>
<h2 id='performance-testing'>Performance testing</h2>
<p>How to make it...</p>

<p>Which methods are available for loading the service and analysing its data...</p>
<h2 id='reporting'>Reporting</h2>
<p>Allure reporting is supported. Requests and response are being saved as json and can be inserted in your Allure reports if you use Allure.</p>

<p>Smth about that...</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
